#KONFLIKT VID AFFILIERING AV UPPHOVSPERSONER#Lärosäten anger olika affilieringar till samma upphovsperson för samma publikation:# Affiliation conflict listPREFIX swpa_m: <http://swepub.kb.se/SwePubAnalysis/model#>PREFIX mods_m: <http://swepub.kb.se/mods/model#> SELECT DISTINCT?_upphov bif:sprintf('http://hp07.libris.kb.se/Adjudication/Duplicates/Compare?record1=%s&record2=%s', bif:substring(?Record1,31,1000), bif:substring(?Record2,31,1000)) as ?_comparebif:sprintf('http://api.libris.kb.se/swepub/oaipmh?verb=GetRecord&identifier=%s&metadataPrefix=swepub_mods', ?_id1 ) as ?_oaipmh_SwePub1bif:sprintf('http://api.libris.kb.se/swepub/oaipmh?verb=GetRecord&identifier=%s&metadataPrefix=swepub_mods', ?_id2) as ?_oaipmh_SwePub2WHERE{{#Get names that have affiliation conflictSELECT DISTINCT?CreativeWork?_nameValueNormalizedWHERE{?Conflict a swpa_m:AffiliationFractionConflict .?Conflict mods_m:hasRelatedItem ?CreativeWork .?CreativeWork a swpa_m:CreativeWork .?CreativeWork swpa_m:hasCreatorShip ?CreatorShip .?CreatorShip swpa_m:hasAffiliation ?Affiliation .?Affiliation swpa_m:hasOrganization ?ResearchOrganization .?ResearchOrganization swpa_m:hasIdentity ?Identity .?Identity swpa_m:id ?_id .?Identity swpa_m:authority "kb.se"^^xsd:string .?CreatorShip swpa_m:hasCreator ?Creator .?Creator foaf:name ?_name .?Creator swpa_m:derivedFrom ?Name .?Name mods_m:nameValueNormalized ?_nameValueNormalized .}GROUP BY ?CreativeWork ?_nameValueNormalized HAVING (count( ?_id ) > 1) }?CreativeWork a swpa_m:CreativeWork .?CreativeWork swpa_m:reportedBy ?Record1 .?Record1 mods_m:hasMods ?Mods1 .?Mods1 mods_m:identifierValue ?_id1 .?Mods1 mods_m:recordContentSourceValue ?_reporterOrg1 .?Mods1 swpa_m:publicationYear ?_pubYear1 .?Record1 swpa_m:hasLocalCreator ?Name1 . ?Name1 mods_m:nameValueNormalized ?_nameValueNormalized .?Name1 foaf:name ?_upphov .?Record1 swpa_m:sameCreativeWorkAs ?Record2 .?Record2 mods_m:hasMods ?Mods2 .?Mods2 mods_m:identifierValue ?_id2.?Mods2 mods_m:recordContentSourceValue ?_reporterOrg2 .?Record2 swpa_m:uriRepository ?_uri2 .?Record2 swpa_m:hasLocalCreator ?Name2 . ?Name2 mods_m:nameValueNormalized ?_nameValueNormalized .FILTER ( xsd:string( ?_reporterOrg1) = "su" && xsd:string(?_reporterOrg1) != xsd:string(?_reporterOrg2))FILTER( ?_pubYear1 >= 2012 ) }